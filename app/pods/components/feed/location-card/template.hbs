<div class="Feed-LocationCard--top">

  {{#if showImage}}
    <div class="Feed-LocationCard--image" style={{imageStyle}}></div>
  {{else if hasCoordinates}}
    {{google-map
      centerLocation=userLocation
      class="Feed-LocationCard--map"
    }}
  {{else if showDefaultImage}}
    <div class="Feed-LocationCard--image default"></div>
  {{/if}}

  <div class="Feed-LocationCard--overlay"></div>
  {{#if streamlined}}
    <div class="Feed-LocationCard--streamline">
      <p>
        HereCast just arrived in {{yourTown}} and we're finding our way around.
      </p>
      <p>
        Would you like to be a pioneer and help get things started?
      </p>
    </div>
  {{else}}
    <div class="Feed-LocationCard--user-location" {{action "toggleChangeLocation"}} role="button">
      {{user-location}}
    </div>
  {{/if}}

  <div class="Feed-LocationCard--loading-wrap {{if showLoadingAnimation "on" "off"}}">
    {{location-load-animation loadingLocationName=loadingLocationName}}
  </div>

</div>

{{#if showBotttomBar}}
  <div class="Feed-LocationCard--bottom">
    {{#if isNotFastBoot}}
      {{#if showSearch}}
        {{search-input
          noBorder=true
          size="large"
          color="black"
          value=(readonly searchService.query)
          update=(action "updateSearchQuery")
          clearSearchType=(action "clearSearch")
          clearButtonText="Clear"
          isLoading=searchService.isLoading
          class="Feed-LocationCard--bottom-left"
        }}
      {{/if}}
      {{#if showChooser}}
        <div class="Feed-LocationCard--bottom-right">
          {{feed/card-size-chooser}}
        </div>
      {{/if}}
    {{/if}}
  </div>
{{/if}}

{{#if wantsToChangeLocation}}
  {{user-location/chooser
    onClose=(action "toggleChangeLocation")
  }}
{{/if}}
