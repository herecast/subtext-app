{{#sticky-container position="grouped-events" as |sticky|}}
  {{#each groupedEvents as |group outerIndex|}}
    {{#sticky.item}}
      <h1 class='SectionHeader SectionHeader--no-margin' data-test-grouped-events-header>
        <span class={{sectionHeaderTextClasses}}>
          {{group.displayValue}} <button class='SectionHeader-calendarWidget hidden-xs hidden-sm' {{action 'openCalendarWidget'}}>{{fa-icon 'calendar'}}&nbsp;{{fa-icon 'arrow-right'}}</button>
        </span>
      </h1>
    {{/sticky.item}}

    <div class='Container--noGutter'>
      <div class='row'>
        <div class='col-xs-12 col-md-8 col-md-push-2'>
          <div class='Card-groupedWrapper'>
            {{#each group.items as |event innerIndex|}}
              {{#if (and (eq outerIndex 0) (or (eq innerIndex 4) (eq innerIndex 12) (eq innerIndex 20)))}}
                <div class='AdBanner-wrapper AdBanner-wrapper--events'>
                  {{ad-banner
                    adContextName=adPath
                    impressionPath=adPath
                    lastRefreshDate=lastRefreshDate
                    pagePositionForAnalytics=innerIndex
                  }}
                </div>
              {{/if}}

              <div class='row'>
                <div class='col-sm-3 hidden-xs'>
                  <span class='Card-isolatedDate pull-right'>
                    {{event.timeRangeNoDates}}
                  </span>
                </div>
                <div class='col-sm-9 col-xs-12'>
                  {{event-card
                    event=event
                    variant=cardLayout
                    class='Card Card--event Card--grouped'
                  }}
                </div>
              </div>
          {{/each}}
          </div>
        </div>
      </div>
    </div>
  {{/each}}
{{/sticky-container}}
